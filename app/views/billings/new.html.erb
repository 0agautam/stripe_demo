<h1>new here</h1>
 <script src="https://js.stripe.com/v3/"></script>

<div data-stripe="<%= @session_data.id %>">
  <%= link_to 'Subscribe', '', class: 'subscribe-btn', remote: true %>
</div>

<script>
  var subscribeBtn = document.querySelector('.subscribe-btn')
  $('.subscribe-btn').on('click',function(event){
    event.preventDefault()

    const CHECKOUT_SESSION_ID = subscribeBtn.parentElement.dataset.stripe
    console.log(CHECKOUT_SESSION_ID)
    var stripe = Stripe('pk_test_51ImtmBSDWHjTZeZl6FcP6GXhrtMinjTGvhgWPsghNsvhJZQCdfukOS1ciLY2ck5VmVbGyx1Hv1ELuNDDEnKFBZwJ00n0gvjWUa')
    stripe.redirectToCheckout({
      sessionId: CHECKOUT_SESSION_ID
    }).then((result) => {
      // handle any result data you might need
      console.log(result)
    })
    event.returnValue = false;
  })
</script>